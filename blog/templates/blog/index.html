{% extends "base.html" %} {% block header %}
<h1>{% block title %} List All Posts {% endblock title %}</h1>
{% endblock header %} {% block content %} {% if g.user %}
<a href="{{url_for('blog.newpost')}}"
  ><input class="btn btn-secondary" type="button" value="New Post"
/></a>
{% endif %} {% for post in posts %}
<article class="posts" id="posts">
  <header>
    <div>
      <h1>{{post['title']}}</h1>
      <div class="about" id="about">
        by {{post['username']}} on {{post['created'].strftime('%Y-%m-%d')}}
      </div>
    </div>
    <div class="row justify-content-md-start">
      <div class="col col-sm-auto">
        {% if g.user['id'] == post['author_id'] %}
        <a
          href="{{url_for('blog.edit', id=post['id'])}}"
          class="edit"
          id="edit"
        >
          <button type="button" class="btn btn-secondary">Edit</button></a
        >
        {% endif %}
      </div>
      <div class="col col-sm-auto">
        <a
          href="{{url_for('blog.reply', id=post['id'])}}"
          class="reply"
          id="reply"
        >
          <button class="btn btn-secondary">Reply</button>
        </a>
      </div>
    </div>
  </header>
  <p class="body" id="body">{{post['body']}}</p>
</article>
{% if not loop.last %}
<hr />
{% endif %} {% endfor %} {% endblock content %}
